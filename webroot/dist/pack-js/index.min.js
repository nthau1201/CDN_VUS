"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js?t=1").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.error("Service Worker registration failed:",e)})});let deferredPrompt,addBtn=document.querySelector(".add_to_home_screen");addBtn&&(addBtn.style.display="none"),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),deferredPrompt=e,addBtn&&(addBtn.style.display="block",addBtn.addEventListener("click",async()=>{addBtn.style.display="none",deferredPrompt.prompt();var e=(await deferredPrompt.userChoice).outcome;console.log("User response to the install prompt: "+e),deferredPrompt=null}))}),window.addEventListener("appinstalled",e=>{console.log("âœ… App installed",e),deferredPrompt=null});